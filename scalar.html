<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A Lecture on Topological Operators - 2&nbsp; Topological Operators for Classical Symmetry</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./compact.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./scalar.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Topological Operators for Classical Symmetry</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A Lecture on Topological Operators</a> 
        <div class="sidebar-tools-main">
    <a href="./A-Lecture-on-Topological-Operators.pdf" rel="" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is this</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scalar.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Topological Operators for Classical Symmetry</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./compact.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Compact Boson</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Vector</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#set-up" id="toc-set-up" class="nav-link active" data-scroll-target="#set-up"><span class="header-section-number">2.1</span> Set Up</a></li>
  <li><a href="#construction-of-topological-operator" id="toc-construction-of-topological-operator" class="nav-link" data-scroll-target="#construction-of-topological-operator"><span class="header-section-number">2.2</span> Construction of Topological Operator</a></li>
  <li><a href="#sec-trivial-scalar" id="toc-sec-trivial-scalar" class="nav-link" data-scroll-target="#sec-trivial-scalar"><span class="header-section-number">2.3</span> Identity Wall</a></li>
  <li><a href="#symmetry-action-and-ward-takahashi-identity" id="toc-symmetry-action-and-ward-takahashi-identity" class="nav-link" data-scroll-target="#symmetry-action-and-ward-takahashi-identity"><span class="header-section-number">2.4</span> Symmetry Action and Ward-Takahashi identity</a></li>
  <li><a href="#relation-to-noether-charge" id="toc-relation-to-noether-charge" class="nav-link" data-scroll-target="#relation-to-noether-charge"><span class="header-section-number">2.5</span> Relation to Noether Charge</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-scalar" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Topological Operators for Classical Symmetry</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>
<div class="hidden">
<p><span class="math display">\[
\DeclareMathOperator{\vol}{vol}
\DeclareMathOperator{\U}{U}
\DeclareMathOperator{\SU}{SU}
\DeclareMathOperator{\imunit}{i}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Map}{Map}
\newcommand{\stdim}{D}
\]</span></p>
</div>
<p>In this section we take the classical symmetry in scalar field theory as an example to study topological operators.</p>
<section id="set-up" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="set-up"><span class="header-section-number">2.1</span> Set Up</h2>
<p>To be concrete, let us consider the complex scalar field theory whose Lagrangian (density) on a spacetime of dimension <span class="math inline">\(\stdim\)</span> is given by <span class="math display">\[
\begin{aligned}
\mathcal{L}(\phi) &amp;=  - \left(\frac12 \partial_\mu \phi(x)^* \partial^\nu \phi(x) + V(\phi(x))\right)\vol\\
&amp;= \frac{1}{2} \mathop{d\phi} \wedge *\mathop{d\phi} - V(\phi(x))\vol,
\end{aligned}
\]</span> where <span class="math inline">\(\mathop{*}\)</span> is the Hodge star, <span class="math inline">\(\vol = \mathop{*} 1 = \prod_{i=1}^{\stdim} \mathop{dx_i}\)</span> is the volume form for the flat space, and <span class="math inline">\(V(\phi)\)</span> is the potential. The action is the integral over the spacetime <span class="math inline">\(M\)</span> (without boundary): <span class="math display">\[
S[\phi] = \int_{M}\mathcal{L}(\phi).
\]</span></p>
<p>We consider a symmetry transformation of the scalar field <span id="eq-scalar-transf"><span class="math display">\[
\phi(x) \mapsto \phi^g(x)
\tag{2.1}\]</span></span> parametrized by a group element <span class="math inline">\(g\)</span> (constant over <span class="math inline">\(M\)</span>) that leaves the action invariant: <span id="eq-action-inv"><span class="math display">\[
S[\phi]=S[\phi^g].
\tag{2.2}\]</span></span> This means that the Lagrangian is invariant up to a total derivative: <span id="eq-Lagrangian-inv"><span class="math display">\[
\mathcal{L}(\phi^g) = \mathcal{L}(\phi) + \mathop{ds}(\phi,g)
\tag{2.3}\]</span></span> where <span class="math inline">\(s(\phi,g)\)</span> is a <span class="math inline">\((\stdim-1)\)</span>-form on <span class="math inline">\(M\)</span> depending on the constant <span class="math inline">\(g\)</span> and the field <span class="math inline">\(\phi\)</span>. We set <span class="math inline">\(s(\phi,g=\id) = 0\)</span>, where <span class="math inline">\(\id\)</span> is the unit of the symmetry group. Then, by <span class="math inline">\(\phi = (\phi^g)^{g^{-1}}\)</span>, we can set that <span class="math inline">\(s(\phi,g) = - s(\phi,g^{-1})\)</span>.</p>
<p>For example, the usual <span class="math inline">\(\U(1)\)</span> rotation corresponds to the transformation <span class="math display">\[
\phi^g(x) = \mathop{g} \phi(x),
\]</span> where <span class="math inline">\(g=e^{\imunit \alpha}\)</span> is a <span class="math inline">\(\U(1)\)</span> phase. The potential <span class="math inline">\(V(\phi)\)</span> might partially break the <span class="math inline">\(\U(1)\)</span> rotation into its subgroup <span class="math inline">\(\mathbb{Z}_k\)</span>, e.g.&nbsp;<span class="math inline">\(V(\phi)\propto \phi^k+(\phi^*)^k\)</span>. In such a case the parameter <span class="math inline">\(g\)</span> takes <em>discrete</em> values: <span class="math inline">\(g = e^{\imunit \frac{2\pi i}{k}}\)</span>, <span class="math inline">\(i= 0 \cdots k-1\)</span>.</p>
<p>In addition, when <span class="math inline">\(V(\phi)=0\)</span>, the action <span class="math inline">\(S[\phi]\)</span> also admit the shift symmetry<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span class="math display">\[
\phi^{\alpha}(x) = \phi(x) + \alpha.
\]</span></p>
<p>In this section, we would like to construct the <strong>topological operator</strong> corresponding to these <em>classical</em> symmetry.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The construction will apply to other types of scalar field theory, e.g.&nbsp;real and/or multiple scalar fieldsas long as the kinetic term is standard enough (more on this in <a href="#sec-trivial-scalar"><span>Section&nbsp;2.3</span></a>). For non-linear sigma model with topologically non-trivial target, the Lagrange multiplier <span class="math inline">\(\lambda\)</span> below should take values in the correct set. We will consider the case with <span class="math inline">\(S^1\)</span> target (compact boson) in <a href="compact.html"><span>Chapter&nbsp;3</span></a>. Also, the spacetime manifold <span class="math inline">\(M\)</span> and the metric on it do not have to be flat. The signature of the metric is also insignificant in this lecture, although we use the Euclidean notation.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this lecture we directly construct the topological operators corresponding to the <em>finite</em> transformation <a href="#eq-scalar-transf">Equation&nbsp;<span>2.1</span></a>, rather than the conventional approach considerting infinitesimal transformation. This will enable us to explicitly talk about <em>finite</em> symmetries (and their anomalies) in terms of topological operators, and also motivate us to consider generalized symmetries.</p>
</div>
</div>
</section>
<section id="construction-of-topological-operator" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="construction-of-topological-operator"><span class="header-section-number">2.2</span> Construction of Topological Operator</h2>
<p>As a basic example of <a href="intro.html#eq-conv-STO-corresp">Equation&nbsp;<span>1.3</span></a>, we would like to construct the topological operator <span class="math inline">\(U_\alpha[W]\)</span> corresponding to the transformation <a href="#eq-scalar-transf">Equation&nbsp;<span>2.1</span></a>. The topological operator <span class="math inline">\(U_\alpha[W]\)</span> ,defined with respect to a codimension-1 submanifold <span class="math inline">\(W\)</span> of the spacetime <span class="math inline">\(M\)</span>, should satisfy the following properties:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Properties of Symmetry Topological Operator
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Topological: <span class="math inline">\(U_g[W] = U_g[W']\)</span> is <span class="math inline">\(W\)</span> can be continuously defomed into <span class="math inline">\(W'\)</span> without crossing other operators.</li>
<li>Symmetry action: when a deformation from <span class="math inline">\(W\)</span> to <span class="math inline">\(W''\)</span> crosses an local operator <span class="math inline">\(\mathcal{O}\)</span>, it gets the symmetry action specified by <span class="math inline">\(g\)</span>, resulting in another operator <span class="math inline">\(\mathcal{O}^g\)</span>.</li>
<li>Noether: when the symmetry group is continuous, we can take the group element to be the infinitsimal deformation of <span class="math inline">\(\id\)</span>: <span class="math inline">\(g = \id + \alpha + \mathcal{O}(\alpha^2)\)</span>. Then, the operator <span class="math inline">\(U_g[W]\)</span> is approximated by the Noether charge <span id="eq-Noether-approx"><span class="math display">\[
U_{1+\alpha+\mathcal{O}(\alpha^2)} = 1 + \alpha \int_W \mathop{*}j +\mathcal{O}(\alpha^2),
\tag{2.4}\]</span></span> where <span class="math inline">\(j = j_\mu\mathop{dx^\mu}\)</span> is the Nother current one-form <strong>FIXME:sign is uncertain..</strong> <span class="math display">\[
\mathop{*}j = \left.\frac{\delta\mathcal{L}(\phi^{1+\alpha(x)})}{\delta d\alpha}\right|_{\alpha=0} + \left.\frac{\partial s(\phi, 1+ \alpha)}{\partial \alpha}\right|_{\alpha=0}.
\]</span> Note that when <span class="math inline">\(W\)</span> is a time-slice <span class="math inline">\(W=\{t=0\}\)</span>, <span class="math display">\[
\int_W \mathop{*} j = \int_{\{t=0\}} j^0 \mathop{d^{\stdim-1}x}
\]</span> is exactly the Noether charge written in any QFT textbook.</li>
</ol>
<p>The properties 1.&nbsp;and 2.&nbsp;are summarized in <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>.</p>
</div>
</div>
<div id="fig-op-action" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/Op_action.svg" class="img-fluid figure-img" width="400"></p>
<figcaption class="figure-caption">Figure&nbsp;2.1: The topological operator <span class="math inline">\(U_g[W]\)</span> should be invariant under a continuous deformation and also implement the symmetry action.</figcaption>
</figure>
</div>
<p>The idea of the construction is “<em>cutting-and-gluing-with-twist</em>”. That is, we first divide the spacetime <span class="math inline">\(M\)</span> into two parts: <span class="math inline">\(M_\stdim = M_L \cup_W M_R\)</span> with shared boundary <span class="math inline">\(W\)</span> (see <a href="#fig-cut-M">Figure&nbsp;<span>2.2</span></a>. We take the orientation of <span class="math inline">\(W\)</span> so that <span class="math inline">\(\partial M_L = -\partial M_R = W\)</span>. ). We also separate the scalar field <span class="math inline">\(\phi\)</span> into two sets of fields: <span class="math inline">\(\phi_L(x)\)</span> for <span class="math inline">\(x \in M_L\)</span> and <span class="math inline">\(\phi_R(x)\)</span> for <span class="math inline">\(x \in M_R\)</span>. Then, we glue the two regions and fields on those back together, with the twisted identification: <span class="math display">\[
\phi_L|_W = \phi_R^{g^{-1}}|_W.
\]</span></p>
<div id="fig-cut-M" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="figures/ManifoldSplit.svg" class="img-fluid figure-img" width="230"></p>
<figcaption class="figure-caption">Figure&nbsp;2.2: The cutting and twisted gluing, implementing the topological operator <span class="math inline">\(U_g[W]\)</span>.</figcaption>
</figure>
</div>
<p>In path-integral, this construction can be implemented as follows:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Symmetry Topological Operator
</div>
</div>
<div class="callout-body-container callout-body">
<p><span id="eq-Ug-pathintegral"><span class="math display">\[
\begin{multlined}
    \langle U_g[W] \cdots \rangle = \int \mathop{\mathcal{D}^{M_L}\phi_L} \mathop{\mathcal{D}^{M_R}\phi_R} \mathop{\mathcal{D}^W\lambda} \cdots\\ \times \exp\left(-S_L[\phi_L]-S_R[\phi_R] - G_W[\lambda,\phi_L,\phi_R,g]\right)
\end{multlined}
\tag{2.5}\]</span></span></p>
</div>
</div>
<p>Here, <span class="math inline">\(\mathcal{D}^{X}\)</span> denotes the measure for path-integral for a field defined on a submanifold <span class="math inline">\(X\)</span> of the spacetime <span class="math inline">\(M\)</span>, and <span class="math inline">\(S_{L,R} = \int_{M_{L,R}}\mathcal{L}(\phi_{L,R})\)</span> are actions on the submanifold <span class="math inline">\(M_{L,R}\)</span>, and “<span class="math inline">\(\cdots\)</span>” represents additional insertions of operators. In addition, the “gluing” action <span class="math inline">\(G_W\)</span> on the submanifold <span class="math inline">\(W\)</span> is <span id="eq-gluing-action"><span class="math display">\[
\begin{multlined}
    G_W[\lambda,\phi_L,\phi_R,g] = - \imunit \int_W \lambda(\phi_L - \phi_R^{g^{-1}})\vol_W+\int_W s(\phi_M,g).
\end{multlined}
\tag{2.6}\]</span></span> The heart of the above expression is that integrating the Lagrange multiplier <span class="math inline">\(\lambda\)</span> out gives the “delta functional”: <span id="eq-delta-functional"><span class="math display">\[
\
    \int \mathop{\mathcal{D}^W\lambda} \exp\left(\imunit \int_W \lambda (\phi_L-\phi^{g^{-1}}_R)\vol_W\right)
     = \prod_{x\in W}\delta(\phi_L(x) - \phi_R^{g^{-1}}(x)),
\tag{2.7}\]</span></span> which should implement <a href="#fig-cut-M">Figure&nbsp;<span>2.2</span></a>. Before studying the operator <span class="math inline">\(U_g[W]\)</span>, we should study the <em>trivial</em> case where the symmetry transformation <span class="math inline">\(g\)</span> is the identity map <span class="math inline">\(g=\id\)</span>.</p>
</section>
<section id="sec-trivial-scalar" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="sec-trivial-scalar"><span class="header-section-number">2.3</span> Identity Wall</h2>
<p>When <span class="math inline">\(g=\id\)</span>, the operator <span class="math inline">\(U_{g=\id}[W]\)</span> should be <em>trivial</em>. That is, we have <span id="eq-identity-wall"><span class="math display">\[
\langle \id[W] \cdots \rangle = \langle \cdots \rangle.
\tag{2.8}\]</span></span> We call the codimension-1 operator <span class="math inline">\(\id[W]\)</span> with this property <strong>identity wall</strong>. It can also be called <strong>transparent wall</strong> or like that. Expanding <a href="#eq-identity-wall">Equation&nbsp;<span>2.8</span></a>, the following equation should hold: <span id="eq-trivial-scalar"><span class="math display">\[
\begin{multlined}
    \int \mathop{\mathcal{D}^M\phi} \exp(-S) \cdots=
    \int \mathop{\mathcal{D}^{M_L}\phi_L} \mathop{\mathcal{D}^{M_R}\phi_R} \mathop{\mathcal{D}^W\lambda} \\ \times \exp\left(-S_L-S_R+\imunit \int_W \lambda(\phi_L - \phi_R)\vol_W\right)\cdots.\\
\end{multlined}
\tag{2.9}\]</span></span></p>
<p>The point is that the difference between giving a field <span class="math inline">\(\phi\)</span> and giving a pair of fields <span class="math inline">\((\phi_L,\phi_R)\)</span> is that the latter is not constrained to be continuous across <span class="math inline">\(W\)</span>. On the right-hand side it is rather enforced by integrating out <span class="math inline">\(\lambda\)</span> because of <a href="#eq-delta-functional">Equation&nbsp;<span>2.7</span></a>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Continuity of fields in “exotic” QFTs and subsystem symmetry
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Here we assumed that the path integral <span class="math inline">\(\int\mathcal{D}^M\phi\)</span> should be over the <em>continuous</em> fields. The reason for this is that the standard kinetic term would diverge in the limit where the filed <span class="math inline">\(\phi\)</span> becomes discontinuous.</p>
<p>This assumption, however, does not apply to QFTs with higher-derivative kinetic terms. Examples of such exotic QFTs (without relativistic symmetry) includes tensor gauge theories (see e.g. <span class="citation" data-cites="Pretko:2020cko Seiberg:2020bhn">(<a href="references.html#ref-Pretko:2020cko" role="doc-biblioref">Pretko et al. 2020</a>; <a href="references.html#ref-Seiberg:2020bhn" role="doc-biblioref">Seiberg and Shao 2021</a>)</span>). In these theories a field <em>can</em> be discontinuous, but some of higher derivatives are constrained to scale correctly with respect to the ratio of the lattice size and the system size. In such cases the construction of the trivial operator should differ. <em>KO does not know how to describe it because of the UV/IR mixing and totally confused</em>.</p>
<p>These QFTs describes what is called the <strong>fracton phases</strong> of matter, which does not have emergent continuous rotational symmetry in the IR. And the models typically posses <strong>subsytemsymmetries</strong>, whose corresponding operator is not totally topological. Existence of the new kind of symmetry lacked in standard relativistic systems would be related to the fact that the identy wall looks different from the first place.</p>
</div>
</div>
</div>
<p>It is instructive to study the equation of motions (EOMs) on the right hand side of <a href="#eq-trivial-scalar">Equation&nbsp;<span>2.9</span></a>. The EOM with respect to <span class="math inline">\(\lambda\)</span> simply states <span class="math inline">\(\phi_L(x) = \phi_R(x)\)</span> for <span class="math inline">\(x\in W\)</span>. The surface term of Euler-Lagrange equation for <span class="math inline">\(\phi_L\)</span> and <span class="math inline">\(\phi_R\)</span> gives <span class="math display">\[
    \left.\frac{\delta \mathcal{L}[\phi_L]}{\delta \mathop{d\phi_L}}\right|_W = \lambda \vol_W = \left. \frac{\delta \mathcal{L}[\phi_R]}{\delta \mathop{d \phi_R}}\right|_W.
\]</span> If <span class="math inline">\(W\)</span> is spacelike, or we regard the direction perpendicular to <span class="math inline">\(W\)</span> as the imaginary time in Euclidean signature, this enforces that the canonical momentum also be continuous across <span class="math inline">\(W\)</span>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Locality
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="#eq-trivial-scalar">Equation&nbsp;<span>2.9</span></a> expresses the <strong>locality</strong> of the path-integral. We can use the same procedure to decompose the path-integral <span class="math inline">\(\int \mathcal{D}^M{\phi}\)</span> on <span class="math inline">\(M\)</span> into path-integrals on local patches like <span class="math inline">\(\int \prod_i\mathcal{D}^{V_i}\phi_i\)</span> (comes with many Lagrange multipliers). Here <span class="math inline">\(\bigcup_i V_i =M\)</span> and <span class="math inline">\(V_i \cap V_j\)</span> has codimension 1 in <span class="math inline">\(M\)</span> if not empty.</p>
<p>Indeed, in the context of topological quantum field theory (TQFT), a similar <strong>cutting-and-gluing</strong> axiom is hired by the Atiyah-Segal formulation of topological quantum field theory and later Lurie’s cobordism hypothesis <span class="citation" data-cites="Lurie">(<a href="references.html#ref-Lurie" role="doc-biblioref">Lurie 2008</a>)</span> established the relation between it and the locality.</p>
<p>Although in this lecture we satisfy ourselves with the formal non-rigorous treatment of path-integrals, deeper understanding of locality in non-topological QFT is strongly desired, and there are some promising results e.g.&nbsp;in <span class="citation" data-cites="GradyPavlov1">(<a href="references.html#ref-GradyPavlov1" role="doc-biblioref">Grady and Pavlov 2020</a>)</span>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A comment about fermion
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Because we do not plan to talk about fermion in this lecture, we comment on what will differ in the case of fermions.</p>
<p>In the scalar field theory, we impose the continuity of the “position” variables (in analytical-mechanical sense) <span class="math inline">\(\phi\)</span>, then the continuity of the momentum variables follows by EOM.</p>
<p>In a chiral fermion theory, as its kinetic term involves only one derivative, momentum and position variables cannot typically be possible in a way preserving Lorentz or global chiral symmetry. Thus, the “cutting” have to induce an apparent violation of invariance under the Lorentz or the other symmetry, which is a way of seeing the gravitational and global symmetry anomaly. The precise understanding of this perspective is remained to be open in this lecture (and not in the literature as far as the author knows).</p>
</div>
</div>
</div>
</section>
<section id="symmetry-action-and-ward-takahashi-identity" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="symmetry-action-and-ward-takahashi-identity"><span class="header-section-number">2.4</span> Symmetry Action and Ward-Takahashi identity</h2>
<p>Let us turn to the non-trivial operator <a href="#eq-Ug-pathintegral">Equation&nbsp;<span>2.5</span></a> and check the property depicted in <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>. In order to do it, start from the correlator where <span class="math inline">\(U_g\)</span> is inserted along <span class="math inline">\(W=W_1\)</span> and the trivial operator <span class="math inline">\(\id\)</span> along <span class="math inline">\(W''=W_2\)</span> in <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>. (Here we only talk about the equality connecting the leftmost and rightmost figures of <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>. For the middle one the argument is the same. We also renamed the manifolds for the later convenience.) Therefore we split the manifold <span class="math inline">\(M\)</span> into three regions <span class="math inline">\(M_L,M_M,M_R\)</span>, and also the field <span class="math inline">\(\phi\)</span> into <span class="math inline">\(\phi_L,\phi_M,\phi_R\)</span>. Then to show the equality in <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>, we perform the change of the variable <span class="math inline">\(\widetilde{\phi}_M = \phi_M^{g^{-1}}\)</span> : <span class="math display">\[
\begin{aligned}
    &amp;\langle \mathcal{O}_1 U_g[W_1] \mathcal{O}_2 \rangle = \langle \mathcal{O}_1 U_g[W_1] \mathcal{O}_2 \id[W_2] \rangle \\
     &amp;= \int \prod_{i=L,M,R}\mathop{\mathcal{D}^{M_i}\phi_i} \mathop{\prod_{a=1,2}\mathcal{D}^{W_a} \lambda_a} e^{-S_L[\phi_L]-S_M[\phi_M]-S_R[\phi_R]}\mathcal{O}_1[\phi_L] \mathcal{O}_2[\phi_M]
     \\
     &amp;\times \exp\left(-G_{W_1}[\lambda_1,\phi_L,\phi_M,g]-G_{W_2}[\lambda_2,\phi_M,\phi_R,\id]\right)\\
     &amp;= \int \prod_{i=L,M,R}\mathop{\mathcal{D}^{M_i}\phi_i} \mathop{\prod_{a=1,2}\mathcal{D}^{W_a}\lambda_a} e^{-S_L[\phi_L]-S_M[\widetilde\phi_M^g]-S_R[\phi_R]}\mathcal{O}_1[\phi_L] \mathcal{O}_2[\widetilde\phi_M^g]
     \\
     &amp;\times \exp\left(-G_{W_1}[\lambda_1,\phi_L,\widetilde\phi_M,\id]-G_{W_2}[\lambda_2,\widetilde{\phi}_M^g,\phi_R,\id]\right)\\
     &amp;\times \exp\left( + \int_W s(\phi_L,g) \right)\\
     &amp;= \int \prod_{i=L,M,R}\mathop{\mathcal{D}^{M_i}\phi_i} \mathop{\prod_{a=1,2}\mathcal{D}^{W_a}\lambda_a} e^{-S_L[\phi_L]-S_M[\widetilde\phi_M^g]-S_R[\phi_R]}\mathcal{O}_1[\phi_L] \mathcal{O}_2^g[\widetilde\phi_M]
     \\
     &amp;\times \exp\left(-G_{W_1}[\lambda_1,\phi_L,\widetilde\phi_M,\id]-G_{-W_2}[\lambda_2,\phi_R,\widetilde{\phi}_M,g^{-1}]\right)\\
     &amp;\times \exp\left( + \int_{W_1} s(\phi_M,g) + \int_{W_2} s(\phi_M,g^{-1})  \right)\\
     &amp;= \int \prod_{i=L,M,R}\mathop{\mathcal{D}^{M_i}\phi_i} \mathop{\prod_{a=1,2}\mathcal{D}^{W_a}\lambda_a} e^{-S_L[\phi_L]-S_M[\widetilde\phi_M]-S_R[\phi_R]}\mathcal{O}_1[\phi_L] \mathcal{O}_2^g[\widetilde\phi_M]
     \\
     &amp;\times \exp\left(-G_{W_1}[\lambda_1,\phi_L,\widetilde\phi_M,\id]-G_{-W_2}[\lambda_2,\phi_R,\widetilde{\phi}_M,g^{-1}]\right)\\
     &amp;= \langle \mathcal{O}_1 \id[W_1] \mathcal{O}_2 U_{g^{-1}}[-W_2]. \rangle
\end{aligned}
\]</span> In the second to last equality we used <a href="#eq-Lagrangian-inv">Equation&nbsp;<span>2.3</span></a> and in the last equality we assumed that the path-integral measure is invariant: <span id="eq-measure-inv"><span class="math display">\[\mathcal{D}\phi_M = \mathcal{D}\phi_M^g.
\tag{2.10}\]</span></span> Lastly, from <a href="#eq-delta-functional">Equation&nbsp;<span>2.7</span></a> we get <span class="math inline">\(U_{g^{-1}}[-W] = U_g[W]\)</span>, so we obtain <a href="#fig-op-action">Figure&nbsp;<span>2.1</span></a>, that is <span id="eq-sym-op-act"><span class="math display">\[
\langle \mathcal{O}_1 U_g[W_1] \mathcal{O}_2 \rangle = \langle \mathcal{O}_1 \mathcal{O}_2^g U_g[W_2] \rangle.
\tag{2.11}\]</span></span></p>
<p>We note that we can also get the following equation in the same way as above: <span id="eq-bubble"><span class="math display">\[
\langle \mathcal{O}_1 \mathcal{O}_2 \cdots \rangle = \langle U_g[W_0] \mathcal{O}_1 \mathcal{O}_2^g \cdots \rangle,
\tag{2.12}\]</span></span></p>
<p>when <span class="math inline">\(W_0\)</span> encloses a compact region of <span class="math inline">\(M\)</span> and contains no operator. Then, by repeatedly using these equations, we get the <strong>Ward-Takahashi identity</strong> (<strong>FIXME:figure</strong>)</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ward-Takahashi Identity
</div>
</div>
<div class="callout-body-container callout-body">
<p><span id="eq-Ward-Takahashi"><span class="math display">\[
\begin{aligned}
\langle \mathcal{O}_1 \mathcal{O}_2 \cdots \mathcal{O}_N \rangle
&amp;=
\langle U_g[W_0] \mathcal{O}_1 \mathcal{O}_2 \cdots \mathcal{O}_N \rangle\\
&amp;=
\langle \mathcal{O}_1^g U_g[W_1] \mathcal{O}_2 \cdots \mathcal{O}_N \rangle\\
&amp;=
\langle \mathcal{O}_1^g  \mathcal{O}_2^g \cdots \mathcal{O}_N^g U_g[W_N] \rangle\\
&amp;=
\langle \mathcal{O}_1^g  \mathcal{O}_2^g \cdots \mathcal{O}_N^g\rangle,
\end{aligned}
\tag{2.13}\]</span></span> where <span class="math inline">\(W_i\)</span> encloses the operators <span class="math inline">\(\mathcal{O}_1 \cdots \mathcal{O}_i\)</span>, and at the last step we collapsed <span class="math inline">\(U_g[W_N]\)</span> towards the infinity (or whatever point if <span class="math inline">\(M\)</span> is compact).</p>
</div>
</div>
<p>Of course we could get the same result by considering global change of variable <span class="math inline">\(\widetilde{\phi} = \phi^{g^{-1}}\)</span>, the point is that, once the existence of topological operator is established, the derivation of the Ward-Takahashi identity can be done in the same way, even if the symmetry does not come from field transformation.</p>
<p><strong>FIXME:explain about the selection rule</strong></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Mixed-gravitational anomaly
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The symmetry we discuss here does not suffer from anomaly and the Ward-Takahashi idendity (<a href="#eq-Ward-Takahashi">Equation&nbsp;<span>2.13</span></a>) follows. If we instead consider the topological operator corresponding to a symmetry with mixed-gravitational anomaly, the invariance of the measure (<a href="#eq-measure-inv">Equation&nbsp;<span>2.10</span></a>) does not necessarily hold when <span class="math inline">\(M_M\)</span> does not have the topology of a ball, and likewise <a href="#eq-bubble">Equation&nbsp;<span>2.12</span></a> can fail when <span class="math inline">\(W_0\)</span> is not a ball. Thus, on a spacetime with non-trivial topology (other than <span class="math inline">\(\mathbb{R}^4\)</span> or <span class="math inline">\(S^4\)</span>), (<a href="#eq-Ward-Takahashi">Equation&nbsp;<span>2.13</span></a>) might fail at the last equality, while (by choosing <span class="math inline">\(W_0\)</span> to be a ball) other steps goes through. The failure is by a phase depending on topology of the spacetime, and has an interesting consequences of this discussed in <span class="citation" data-cites="Cordova:2019jqi">(<a href="references.html#ref-Cordova:2019jqi" role="doc-biblioref">Córdova and Ohmori 2020</a>)</span>.</p>
</div>
</div>
</div>
</section>
<section id="relation-to-noether-charge" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="relation-to-noether-charge"><span class="header-section-number">2.5</span> Relation to Noether Charge</h2>
<p>Here we show the relation <a href="#eq-Noether-approx">Equation&nbsp;<span>2.4</span></a> of the topological operator <span class="math inline">\(U_g[W]\)</span> to the conventional Noether charge. This can be done by applying the change of variable <span class="math inline">\(\widetilde{\phi_R} = \phi^{\id - \alpha f(x_n)}_R\)</span> to <a href="#eq-Ug-pathintegral">Equation&nbsp;<span>2.5</span></a>, where <span class="math inline">\(f(x_n,\delta)\)</span> is a function of the coordinate <span class="math inline">\(x_n\)</span> perpendicular to <span class="math inline">\(W\)</span> and one positive parameter <span class="math inline">\(\delta\)</span> and satisfies <span class="math inline">\(f(0) = 1\)</span> and <span class="math inline">\(f(x_n&gt;\delta) =0\)</span>. Then we take <span class="math inline">\(\delta\to 0\)</span> limit and compare. <strong>FIXME:write equations</strong></p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Cordova:2019jqi" class="csl-entry" role="listitem">
Córdova, C., and Ohmori, K. (2020), <span>“<span class="nocase">Anomaly Constraints on Gapped Phases with Discrete Chiral Symmetry</span>,”</span> <em>Phys. Rev. D</em>, 102, 025011. <a href="https://doi.org/10.1103/PhysRevD.102.025011">https://doi.org/10.1103/PhysRevD.102.025011</a>.
</div>
<div id="ref-GradyPavlov1" class="csl-entry" role="listitem">
Grady, D., and Pavlov, D. (2020), <span>“Extended field theories are local and have classifying spaces,”</span> <em>arXiv preprint arXiv:2011.01208</em>.
</div>
<div id="ref-Lurie" class="csl-entry" role="listitem">
Lurie, J. (2008), <span>“On the classification of topological field theories,”</span> <em>Current developments in mathematics</em>, International Press of Boston, 2008, 129–280.
</div>
<div id="ref-Pretko:2020cko" class="csl-entry" role="listitem">
Pretko, M., Chen, X., and You, Y. (2020), <span>“<span class="nocase">Fracton Phases of Matter</span>,”</span> <em>Int. J. Mod. Phys. A</em>, 35, 2030003. <a href="https://doi.org/10.1142/S0217751X20300033">https://doi.org/10.1142/S0217751X20300033</a>.
</div>
<div id="ref-Seiberg:2020bhn" class="csl-entry" role="listitem">
Seiberg, N., and Shao, S.-H. (2021), <span>“<span class="nocase">Exotic Symmetries, Duality, and Fractons in 2+1-Dimensional Quantum Field Theory</span>,”</span> <em>SciPost Phys.</em>, 10, 027. <a href="https://doi.org/10.21468/SciPostPhys.10.2.027">https://doi.org/10.21468/SciPostPhys.10.2.027</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>If we use the form of Lagrangian <span class="math inline">\(\mathcal{L}^\prime= -\frac12 \phi \mathop{d*d\phi}\)</span>, this also gives an example where the total derivative in <a href="#eq-Lagrangian-inv">Equation&nbsp;<span>2.3</span></a> is nonzero: <span class="math inline">\(s=-\frac12 \alpha \mathop{*}\mathop{d\phi}\)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./compact.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Compact Boson</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>